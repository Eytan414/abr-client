<div class="wrapper">

    <div class="card">
        @let hasImage = question().imageUrl?.length;
        @let imageUrl = env.apiUrl + question().imageUrl;
        <div class="title" [class]="{'bonus' : question().weight === 1.5, 'has-img': hasImage}">
            {{getTitle()}}
            @if(hasImage){
            <button [attr.popovertarget]="'popover' + question().imageUrl"> 
                <span>
                    <img alt=""
                        loading="lazy"
                        fetchpriority="low"
                        [src]="imageUrl"
                    >
                </span>
            </button>
            <div [id]="'popover' + question().imageUrl" popover><img [src]="imageUrl"></div>
            }
        </div>

        <div class="possible-answers">
            @for(answer of possible_answers(); track $index){
            <div (click)="userAnswered(answer)" [class]='highlightSelectedAnswer($index)' class="answer">{{ answer.value
                }}</div>
            }
        </div>
    </div>
</div>